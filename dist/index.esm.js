import{jsx as e,jsxs as t}from"react/jsx-runtime";import{createContext as n,useState as a,useEffect as s,useContext as o,forwardRef as l,createElement as r}from"react";function c(e,t){const n=e.presets?.[t];return n?{...e,colors:{...e.colors,...n.colors},fonts:{...e.fonts,...n.fonts||{}}}:e}const i=n(void 0),u=({children:t,themePath:n="/content/theme.json",initialPreset:o=null})=>{const[l,r]=a({colors:{primary:"#0070f3",background:"#ffffff",foreground:"#000000"},fonts:{body:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',heading:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'}}),[u,d]=a(!0),[m,g]=a(o),[h,p]=a(!1);s(()=>{(async()=>{try{const e=await async function(e="/content/theme.json"){try{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to load theme from ${e}`);return await t.json()}catch(e){return console.error("Failed to load theme:",e),{colors:{primary:"#0070f3",background:"#ffffff",foreground:"#000000"},fonts:{body:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',heading:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'}}}}(n);if(r(e),o&&e.presets?.[o]){const t=c(e,o);r(t)}const t="undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;p(t)}catch(e){console.error("Failed to load theme:",e)}finally{d(!1)}})()},[n,o]),s(()=>{u||function(e){if("undefined"==typeof document)return;const t=document.documentElement;Object.entries(e.colors).forEach(([e,n])=>{"string"==typeof n&&t.style.setProperty(`--color-${e}`,n)}),Object.entries(e.fonts||{}).forEach(([e,n])=>{t.style.setProperty(`--font-${e}`,n)})}(l)},[l,u]);const f=l.presets?Object.keys(l.presets):[],y={theme:l,isDarkMode:h,currentPreset:m,availablePresets:f,setPreset:e=>{if(l.presets?.[e]){const t=c(l,e);r(t),g(e)}},toggleDarkMode:()=>{p(e=>!e);const e=m?.replace("-light","")||"space";if(h){if(l.presets?.[e]){const t=c(l,e);r(t),g(e)}}else{const t=`${e}-light`;if(l.presets?.[t]){const e=c(l,t);r(e),g(t)}}},getColor:e=>l.colors[e]||"",getFont:e=>l.fonts?.[e]||""};return e(i.Provider,{value:y,children:t})};function d(){const e=o(i);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e}const m=()=>{const{theme:e,currentPreset:t,availablePresets:n}=d();return{getDynamicThemeInfo:()=>{if(!e)return{baseThemes:[],colorVariants:[]};const t=[],n=[],a=e.presets;return a&&Object.keys(a).length>0&&Object.keys(a).forEach(e=>{const s=e.replace("-light","");t.includes(s)||t.push(s);const o=a[e];o?.colors&&n.push({name:e,colors:o.colors})}),{baseThemes:t,colorVariants:n}},getThemeMetadata:e=>({description:`${e} theme`,icon:"palette",category:"color"}),hasThemeData:!!e,currentThemeData:e}},g={defaultLanguage:"en",format:"json",cacheDuration:36e5},h=[{id:"default",name:"Default",description:"Standard website content and layout",icon:"layout",styles:{id:"default",name:"Default",description:"Standard website content and layout",layout:"standard",sections:["header","main","footer"]}},{id:"marketing",name:"Marketing Focus",description:"Content optimized for conversions",icon:"file-text",styles:{id:"marketing",name:"Marketing Focus",description:"Content optimized for conversions",layout:"marketing",sections:["hero","features","cta","testimonials"]}},{id:"portfolio",name:"Portfolio Style",description:"Showcase-focused content layout",icon:"image",styles:{id:"portfolio",name:"Portfolio Style",description:"Showcase-focused content layout",layout:"portfolio",sections:["gallery","about","contact"]}},{id:"business",name:"Business Focus",description:"Professional business content",icon:"briefcase",styles:{id:"business",name:"Business Focus",description:"Professional business content",layout:"business",sections:["services","team","clients","contact"]}}],p={};const f=n(void 0);function y({children:t,source:n="/content/content.json",options:o={},initialLanguage:l="en",initialContentStyle:r="default",customContentStyles:c=[]}){const[i,u]=a({}),[d,m]=a(!0),[y,b]=a(null),[x,k]=a(l),[w,N]=a(r),v={...g,...o},C=[...h,...c],S=async()=>{try{m(!0),b(null);const e=await async function(e,t=g){if("string"!=typeof e)return e;const n=e,a=n,s=Date.now(),o=p[a];if(o&&t.cacheDuration&&s-o.timestamp<t.cacheDuration)return o.data;try{const e=await fetch(n);if(!e.ok)throw new Error(`Failed to load content from ${n}`);let o;switch(t.format){case"json":default:o=await e.json();break;case"text":case"markdown":case"html":o={content:{text:await e.text()}}}return p[a]={data:o,timestamp:s},o}catch(e){return console.error("Failed to load content:",e),{}}}(n,v);u(e),j(r,C)||(console.warn(`Invalid initial content style: ${r}, falling back to default`),N("default"))}catch(e){b(e instanceof Error?e.message:"Failed to load content"),console.error("Content loading error:",e)}finally{m(!1)}},j=(e,t)=>t.some(t=>t.id===e),M=Object.keys(i.languages||{});s(()=>{S()},[n]);const P={content:i,loading:d,error:y,reload:S,getSection:e=>{if(!i)return null;if(i.languages&&i.languages[x]){const t=i.languages[x];if(t[e])return t[e]}return i[e]||null},language:x,setLanguage:e=>{k(e)},languages:M,currentContentStyle:w,availableContentStyles:C,setContentStyle:e=>{j(e,C)?N(e):console.warn(`Invalid content style: ${e}`)},getContentStyle:e=>function(e,t=h){return t.find(t=>t.id===e)||null}(e||w,C),resetContentStyleToDefault:()=>{N(v.defaultLanguage||"default")},options:v,updateOptions:e=>{Object.assign(v,e)}};return e(f.Provider,{value:P,children:t})}function b(){const e=o(f);if(void 0===e)throw new Error("useContentContext must be used within a ContentProvider");return e}function x(){const e=o(f);if(void 0===e)throw new Error("useContent must be used within a ContentProvider");return e}function k(e){const{getSection:t}=x();return t(e)}function w(e,t){const{content:n}=x();if(!e)return n;const a=e.split(".").reduce((e,t)=>e&&"object"==typeof e?e[t]:void 0,n);return void 0!==a?a:t}function N(e){const{content:t,language:n}=x(),a=t[n]||t;return e?a?.[e]||null:a}function v(){const{reload:e}=x();return e}function C(){const{language:e,setLanguage:t}=x();return{language:e,setLanguage:t}}function S(){const{currentContentStyle:e,availableContentStyles:t,setContentStyle:n,getContentStyle:a,resetContentStyleToDefault:s}=x();return{currentStyle:e,availableStyles:t,setContentStyle:n,getContentStyle:a,resetToDefault:s}}function j(){const{getContentStyle:e,currentStyle:t}=S();return e(t)}function M(e){const{getContentStyle:t}=S();return t(e)}function P(e){const{currentStyle:t}=S();return t===e}function D(e){const{getContentStyle:t}=S(),n=t(e);return n?.styles.metadata||null}function L(e){const{getContentStyle:t}=S(),n=t(e);return n?.styles.sections||null}function z(e){return{en:"English",es:"Español",fr:"Français",de:"Deutsch",it:"Italiano",pt:"Português",ru:"Русский",ja:"日本語",ko:"한국어",zh:"中文"}[e]||e}function F(e){return{en:"Primary language",es:"Spanish language support",fr:"French language support",de:"German language support",it:"Italian language support",pt:"Portuguese language support",ru:"Russian language support",ja:"Japanese language support",ko:"Korean language support",zh:"Chinese language support"}[e]||"Language support"}const $=()=>{const{content:e,language:t,languages:n}=x();return{getDynamicContentInfo:()=>{if(!e)return{availableLanguages:[],contentSections:[],contentStyles:[]};const n=[],a=[],s=[];return"object"==typeof e&&Object.keys(e).forEach(t=>{2===t.length&&/^[a-z]{2}$/.test(t)?n.push(t):"object"==typeof e[t]&&null!==e[t]&&a.push(t)}),0===n.length&&t&&n.push(t),e.styles&&Object.keys(e.styles).forEach(e=>{s.push(e)}),{availableLanguages:n,contentSections:a,contentStyles:s}},getContentMetadata:t=>e?.metadata?.[t]?e.metadata[t]:{description:`${t} content`,icon:"file-text",category:"content"},hasContentData:!!e,currentContentData:e}};function T({children:t,themePath:n="/content/theme.json",initialThemePreset:a=null,contentSource:s="/content/content.json",contentOptions:o={},initialLanguage:l="en",initialContentStyle:r="default",customContentStyles:c=[]}){return e(u,{themePath:n,initialPreset:a,children:e(y,{source:s,options:o,initialLanguage:l,initialContentStyle:r,customContentStyles:c,children:t})})}
/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},A=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),I=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};
/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var O={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=l(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:l,...c},i)=>r("svg",{ref:i,...O,width:t,height:t,stroke:e,strokeWidth:a?24*Number(n)/Number(t):n,className:A("lucide",s),...!o&&!I(c)&&{"aria-hidden":"true"},...c},[...l.map(([e,t])=>r(e,t)),...Array.isArray(o)?o:[o]])),U=(e,t)=>{const n=l(({className:n,...a},s)=>{return r(B,{ref:s,iconNode:t,className:A(`lucide-${o=E(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...a});var o});return n.displayName=E(e),n},q=U("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),R=U("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),W=U("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),H=U("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),V=U("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),Z=U("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),G=U("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),J=U("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);
/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function K(){const[n,s]=a(!1),[o,l]=a("themes"),{setPreset:r,currentPreset:c,toggleDarkMode:i,availablePresets:u}=d(),{language:g,setLanguage:h}=x(),{currentStyle:p,setContentStyle:f}=S(),{getDynamicThemeInfo:y,getThemeMetadata:b}=m(),{getDynamicContentInfo:k,getContentMetadata:w}=$(),{baseThemes:N,colorVariants:v}=y(),{availableLanguages:C,contentSections:j,contentStyles:M}=k(),P=!c?.includes("-light");console.log("Current preset:",c),console.log("Is dark mode:",P),console.log("Base themes:",N),console.log("Available presets:",u);return t("div",{className:"relative",children:[t("button",{onClick:()=>s(!n),className:"group relative flex items-center gap-3 px-4 py-3 bg-white rounded-2xl",children:[e(G,{className:"w-5 h-5 text-black"}),e("span",{className:"hidden sm:inline font-semibold",children:"Customize"}),e(R,{className:"w-4 h-4 text-black transition-transform duration-300 "+(n?"rotate-180":"")})]}),n&&t("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden z-50",children:[t("div",{className:"py-2 flex",children:[t("button",{onClick:()=>l("themes"),className:"w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors "+("themes"===o?"bg-blue-50 border-r-2 border-blue-500":""),children:[e(Z,{className:"w-5 h-5 text-black"}),e("div",{className:"flex-1",children:e("span",{className:"text-sm font-medium text-black",children:"Themes"})}),N.length>0&&e("span",{className:"bg-gray-200 text-black text-xs px-2 py-1 rounded-full font-medium",children:N.length})]}),t("button",{onClick:()=>l("languages"),className:"w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors "+("languages"===o?"bg-blue-50 border-r-2 border-blue-500":""),children:[e(H,{className:"w-5 h-5 text-black"}),e("div",{className:"flex-1",children:e("span",{className:"text-sm font-medium text-black",children:"Languages"})}),C.length>0&&e("span",{className:"bg-gray-200 text-black text-xs px-2 py-1 rounded-full font-medium",children:C.length})]}),t("button",{onClick:()=>l("content"),className:"w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors "+("content"===o?"bg-blue-50 border-r-2 border-blue-500":""),children:[e(W,{className:"w-5 h-5 text-black"}),e("div",{className:"flex-1",children:e("span",{className:"text-sm font-medium text-black",children:"Content"})}),M.length>0&&e("span",{className:"bg-gray-200 text-black text-xs px-2 py-1 rounded-full font-medium",children:M.length})]}),e("button",{onClick:()=>{try{const e=c?.replace("-light","")||"green";if(console.log("Current preset:",c),console.log("Current base theme:",e),console.log("Is currently dark mode:",P),console.log("Available presets:",u),P){const t=`${e}-light`;if(console.log("Switching to light mode:",t),u.includes(t))r(t);else{console.warn(`Light preset ${t} not found. Available:`,u);const e=u.find(e=>e.includes("-light"));e&&r(e)}}else if(console.log("Switching to dark mode:",e),u.includes(e))r(e);else{console.warn(`Dark preset ${e} not found. Available:`,u);const t=u.find(e=>!e.includes("-light"));t&&r(t)}}catch(e){console.error("Error in handleDarkModeToggle:",e)}},className:"w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors",children:e(P?J:V,{className:"w-5 h-5 text-black"})})]}),("themes"===o||"languages"===o||"content"===o)&&t("div",{className:"max-h-64 overflow-y-auto px-4 py-4",children:["themes"===o&&t("div",{className:"px-6",children:[t("h4",{className:"text-sm font-semibold text-black mb-3 justify-center",children:["Available Themes (",N.length,")"]}),N.length>0?e("div",{className:"space-y-2",children:N.map(n=>{const a=c===n||c===`${n}-light`,o=b(n);return e("button",{onClick:()=>(e=>{const t=c?.includes("-light");r(t?`${e}-light`:e),s(!1)})(n),className:"w-full text-left p-3 rounded-lg px-4 py-2",children:t("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300 flex-shrink-0",style:{backgroundColor:X(n)}}),t("div",{className:"flex-1",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"capitalize text-black font-medium text-sm",children:n}),a&&e(q,{className:"w-4 h-4 text-black"})]}),e("p",{className:"text-xs text-black mt-1",children:o.description})]})]})},n)})}):t("div",{className:"text-center py-6 text-black",children:[e(Z,{className:"w-8 h-8 mx-auto mb-2 text-black"}),e("p",{className:"text-sm text-black",children:"No themes detected"}),e("p",{className:"text-xs text-black",children:"Add presets to your theme.json file"})]})]}),"languages"===o&&t("div",{className:"p-4",children:[t("h4",{className:"text-sm font-semibold text-black mb-3 justify-center px-4",children:["Available Languages (",C.length,")"]}),C.length>0?e("div",{className:"space-y-2",children:C.map(n=>t("button",{onClick:()=>(e=>{h(e),s(!1)})(n),className:"w-full text-left p-3 rounded-lg px-4 py-2",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"capitalize text-black font-medium text-sm",children:_(n)}),g===n&&e(q,{className:"w-4 h-4 text-blue-600"})]}),e("p",{className:"text-xs text-black mt-1",children:Q(n)})]},n))}):t("div",{className:"text-center py-6 text-black",children:[e(H,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),e("p",{className:"text-sm",children:"No languages detected"}),e("p",{className:"text-xs",children:"Add language keys to your content.json file"})]})]}),"content"===o&&t("div",{className:"p-4",children:[t("h4",{className:"text-sm font-semibold text-black mb-3 justify-center px-4",children:["Content Styles (",M.length,")"]}),M.length>0?e("div",{className:"space-y-2",children:M.map(n=>{const a=w(n),o=p===n;return t("button",{onClick:()=>(e=>{f(e),s(!1)})(n),className:"w-full text-left p-3 rounded-lg px-4 py-2",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"capitalize text-black font-medium text-sm",children:n}),o&&e(q,{className:"w-4 h-4 text-blue-600"})]}),e("p",{className:"text-xs text-black mt-1",children:a.description})]},n)})}):t("div",{className:"text-center py-6 text-black",children:[e(W,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),e("p",{className:"text-sm",children:"No content styles detected"}),e("p",{className:"text-xs",children:"Add styles to your content.json file"})]})]})]})]})]})}function _(e){return{en:"English",es:"Español",fr:"Français",de:"Deutsch",it:"Italiano",pt:"Português",ja:"日本語",ko:"한국어",zh:"中文",ar:"العربية"}[e]||e}function Q(e){return{en:"Primary language",es:"Spanish language support",fr:"French language support",de:"German language support",it:"Italian language support",pt:"Portuguese language support",ja:"Japanese language support",ko:"Korean language support",zh:"Chinese language support",ar:"Arabic language support"}[e]||"Language support"}function X(e){return{green:"#00ff0d",orange:"#f59e0b",red:"#ef4444",blue:"#3b82f6",purple:"#8b5cf6",pink:"#ec4899",yellow:"#eab308",teal:"#14b8a6",indigo:"#6366f1",gray:"#6b7280"}[e]||"#000000"}export{y as ContentProvider,T as DynamicProvider,K as DynamicSwitcher,u as ThemeProvider,F as getLanguageDescription,z as getLanguageName,x as useContent,b as useContentContext,C as useContentLanguage,w as useContentPath,k as useContentSection,S as useContentStyle,M as useContentStyleById,D as useContentStyleMetadata,L as useContentStyleSections,j as useCurrentContentStyle,$ as useDynamicContentDetection,m as useDynamicThemeDetection,P as useIsContentStyleActive,N as useLocalizedContent,v as useReloadContent,d as useTheme};
//# sourceMappingURL=index.esm.js.map
